<html>
  <h1>Asynchronous Javascript </h1>
    <script>

      // const second = () => {
      //   console.log('Second');
      //   setTimeout(() => {
      //       console.log('Async code!!!!!');
      //   }, 2000);
      // }

      // const first = () => {
      //   console.log('Hey there');
      //   second();
      //   console.log(' The end');
      // }

      // first();


// Set TImeout is used for creating asynchronous code
      // function getRecipe() {
      //   setTimeout(()=> {

      //     const recipeId = [1231 ,515 ,487 ,979];
      //     console.log(recipeId);

      //     setTimeout((id) => {
      //       const recipe = { 
      //         title: 'Fresh tomato pasta',
      //         publisher: 'Jonas'
      //       };

      //       console.log(`${id}: ${recipe.title}`);

      //       setTimeout(publisher => {
      //         const recipe2 = {
      //           title: 'Italian Pzza',
      //           publisher: 'JOnas'                
      //         };
      //         console.log(recipe);

      //       }, 1500, recipe.publisher);

      //     }, 1000, recipeId[2]);

      //   }, 1500);
      // }
      // getRecipe();

    //   const getIds = new Promise((resolve, reject) => {
    //     setTimeout(() => {
    //       resolve([1231 ,515 ,487 ,979]);
    //     }, 1500);
    //   })
      
    // const getRecipe = recId => {
    //   return new Promise((resolve, reject) => {
    //     setTimeout((id) => {          
    //         const recipe = { 
    //           title: 'Fresh tomato pasta',
    //           publisher: 'Jonas'
    //         };
    //         resolve(`${id}: ${recipe.title}`)
    //     });
    //   });
    // };



    // const getRelated = publisher => {
    //   return new Promise((resolve, reject) => {
    //     setTimeout( pub => {
    //       const recipe = {
    //         title: 'Italian pizza',
    //         publisher: 'Jonas'
    //       };
    //       resolve(`${pub}: ${recipe}`);        
    //     },1500, publisher);
    //   })
    // }

// <!-- 
//     getIds.then(IDS => {
//       console.log(IDS);
//       return getRecipe(IDS[2])
//     }).then(recipe => {
//       console.log(recipe);
//       return getRelated(recipe.publisher);
//     })
//     .then(recipe => {
//       console.log(recipe);      
//     })
//     .catch(error => console.log('error')); -->

    // async function getRecipesAW() {
    //   const IDs = await getIds;
    //   console.log(IDs)
    //   const receip = await getRecipe(IDs[2]);
    //   console.log(receip);
    //   const related = await getRelated('Jonas');
    //   console.log(related);

    //   return receip;
    // }

    // getRecipesAW()
    // .then(res => console.log(res));
   
    // .then(res => {
    //   console.log(res);
    //   return res.json();
    //   })
    //   .then(data => {
    //     const today = data.consolidated_weather[0];        
    //     console.log(`Temperatures in ${data.title} stay between ${today.min_temp}`);
    //   })
    // .catch(err => console.log(err));
    

    async function getWeatherAw(woeid) {
      const result = await fetch(`https://crossorigin.me/https://www.metaweather.com/api/location/${woeid}/`);
      const data = await result.json();
      console.log(data);

    }
    getWeatherAw(2487956);

    </script>  

    <body>

    </body>
</html>